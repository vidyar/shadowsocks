# This YML file was generated by the Shippable Jenkins migrator wizard
# The generator makes some assumptions about your project, so please 
# verify the contents of this file before proceeding

language: python

python:
 - 2.7

script: 
 - PATH=$WORKSPACE/ve/bin:/usr/local/bin:$PATH

 - if [ ! -d "ve" ]; then
        virtualenv ve ;
   fi
 - . ve/bin/activate
 - sudo apt-get install -y python-dev
 - sudo apt-get update -qq
 - sudo apt-get install -qq build-essential libssl-dev swig python-m2crypto python-numpy dnsutils iproute nginx bc
 - sudo dd if=/dev/urandom of=/usr/share/nginx/www/file bs=1M count=10
 - sudo service nginx restart
 - sudo pip install m2crypto salsa20 pep8 pyflakes nose coverage
 - sudo tests/socksify/install.sh
 - sudo tests/libsodium/install.sh
 - sudo tests/setup_tc.sh
 - ./.jenkins.sh
